import { Meta, Story, Canvas, Source } from '@storybook/blocks';
import ConnectedScatterplot from './ConnectedScatterplot';
import * as ScatterPlotChartStories from './ScatterPlotChart.stories';

<Meta of={ScatterPlotChartStories} />

# ConnectedScatterplot

NOTE: This is currently a proof of concept not used in production and may be removed.

The `ConnectedScatterplot` component visualizes data as a series of points connected by lines. It's designed to show how data changes over two dimensions, making it easier to track relationships and trends.

## Props

- **`data`**: `Array<{ x: number, y: number }>` - An array of objects representing the data points. Each object should have `x` and `y` properties. _(required)_
- **`width`**: `number` - The width of the chart in pixels. _(required)_
- **`height`**: `number` - The height of the chart in pixels. _(required)_
- **`lineColor`**: `string` - The color of the connecting lines. _(default: `#4065A3`)_
- **`pointColor`**: `string` - The color of the data points. _(default: `#FFA500`)_
- **`labelColor`**: `string` - The color for the axis labels and text. _(default: `#6B7280`)_
- **`backgroundColor`**: `string` - The background color of the chart. _(default: `#FFFFFF`)_
- **`axisColor`**: `string` - The color of the axis lines. _(default: `#9CA3AF`)_
- **`tickColor`**: `string` - The color of the tick lines. _(default: `#D1D5DB`)_
- **`title`**: `string` - The title of the chart.
- **`locale`**: `string` - The locale for the chart, e.g., `"en"` or `"ar"`.
- **`direction`**: `string` - The text direction, `"ltr"` or `"rtl"`.
- **`ariaLabel`**: `string` - ARIA label for accessibility. _(default: "Connected scatterplot showing data")_
- **`ariaDescription`**: `string` - A description of the chart content for screen readers.

## Usage

To use the `ConnectedScatterplot` component, import it into your React application and provide it with the required props.

### Default ConnectedScatterplot

Below is a simple connected scatterplot using a default dataset.

<Canvas>
  <Story of={ScatterPlotChartStories.DefaultConnectedScatterplot} />
</Canvas>

<Source
  language="jsx"
  code={`
import React from 'react';
import ConnectedScatterplot from './ConnectedScatterplot';

const Example = () => (

<ConnectedScatterplot
  data={[
    { x: 10, y: 20 },
    { x: 20, y: 40 },
    { x: 30, y: 25 },
    { x: 40, y: 50 },
    { x: 50, y: 30 },
    { x: 60, y: 80 },
    { x: 70, y: 65 },
  ]}
  width={1000}
  height={600}
  lineColor="#4065A3"
  pointColor="#FFA500"
  labelColor="#6B7280"
  axisColor="#9CA3AF"
  tickColor="#D1D5DB"
  title="Sample Connected Scatterplot"
  ariaLabel="Connected scatterplot showing the relationship between x and y values"
  ariaDescription="This chart displays a connected scatterplot that shows the relationship between x and y values with lines connecting the points."
/>
);

export default Example;
`}
/>

### Custom RTL ConnectedScatterplot

This example demonstrates how to customize the connected scatterplot with RTL text direction and Arabic data labels.

<Canvas>
  <Story of={ScatterPlotChartStories.CustomRtlConnectedScatterplot} />
</Canvas>

<Source
  language="jsx"
  code={`
import React from 'react';
import ConnectedScatterplot from './ConnectedScatterplot';

const RTLExample = () => (

<ConnectedScatterplot
  data={[
    { x: 10, y: 20 },
    { x: 20, y: 40 },
    { x: 30, y: 25 },
    { x: 40, y: 50 },
    { x: 50, y: 30 },
    { x: 60, y: 80 },
    { x: 70, y: 65 },
  ]}
  width={1000}
  height={600}
  lineColor="#4065A3"
  pointColor="#FFA500"
  labelColor="#6B7280"
  axisColor="#9CA3AF"
  tickColor="#D1D5DB"
  title="مخطط الانتثار المتصل"
  locale="ar"
  direction="rtl"
  ariaLabel="مخطط الانتثار المتصل الذي يظهر العلاقة بين القيم x و y"
/>
);

export default RTLExample;
`}
/>

### Custom ConnectedScatterplot with Specific Data

This example shows a connected scatterplot with specific x and y values.

<Canvas>
  <Story of={ScatterPlotChartStories.CustomConnectedScatterplot} />
</Canvas>

<Source
  language="jsx"
  code={`
import React from 'react';
import ConnectedScatterplot from './ConnectedScatterplot';

const CustomExample = () => (

<ConnectedScatterplot
  data={[
    { x: 5, y: 15 },
    { x: 15, y: 35 },
    { x: 25, y: 50 },
    { x: 35, y: 45 },
    { x: 45, y: 55 },
    { x: 55, y: 60 },
  ]}
  width={1000}
  height={600}
  lineColor="#007bc8"
  pointColor="#ff6e52"
  labelColor="#6B7280"
  axisColor="#9CA3AF"
  tickColor="#D1D5DB"
  title="Custom Connected Scatterplot"
  ariaLabel="Connected scatterplot showing custom data"
  ariaDescription="This chart displays a connected scatterplot with custom x and y values."
/>
);

export default CustomExample;
`}
/>

### Content

The `ConnectedScatterplot` component uses SVG to render a series of points connected by lines. Points are represented as circles, and lines are drawn between them to show the relationship between the x and y values.

### Accessibility

**ARIA Roles**: The component includes appropriate ARIA roles and labels to describe its purpose and content for screen readers.

**Keyboard Navigation**: Ensure keyboard focus can be moved to the chart to enhance accessibility.

### Interactions

**Hover Effects**: Implement hover effects to highlight points and provide more detailed information if applicable.

### Changelog

1.0 — Initial release of the component
