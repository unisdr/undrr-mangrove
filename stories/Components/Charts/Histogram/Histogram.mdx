{/* src/Histogram.stories.mdx */}

import { Meta, Story, Canvas, Source } from '@storybook/blocks';
import Histogram from './Histogram';
import * as HistogramStories from './Histogram.stories';

<Meta of={HistogramStories} />

# Histogram

NOTE: This is currently a proof of concept not used in production and may be removed.

The `Histogram` component visualizes the distribution of numerical data by dividing the data into bins and counting the number of data points in each bin. It also supports toggling datasets on and off by clicking their labels in the legend.

## Props

- **`dataSeries`**: `Array<{ seriesLabel: string, data: number[], color: string }>` - An array of objects, each containing a label, a dataset, and a color. _(required)_
- **`width`**: `number` - The width of the chart in pixels. _(required)_
- **`height`**: `number` - The height of the chart in pixels. _(required)_
- **`bins`**: `number` - The number of bins to divide the data into. _(default: 30)_
- **`locale`**: `string` - The locale for the chart, e.g., `"en"` or `"ar"`. _(default: `"en"`)_
- **`direction`**: `string` - The text direction, `"ltr"` or `"rtl"`. _(default: `"ltr"`)_
- **`title`**: `string` - The title of the chart. _(optional)_

## Usage

To use the `Histogram` component, import it into your React application and provide it with the required props.

### Default Histogram

Below is a histogram with a default dataset and configuration.

<Canvas of={HistogramStories.DefaultHistogram} meta={HistogramStories} />

<Source
  language="jsx"
  code={`
import React from 'react';
import Histogram from './Histogram';

const DefaultHistogram = () => (

<Histogram
  dataSeries={[
    {
      seriesLabel: 'Sample Data',
      data: [10, 20, 20, 30, 30, 30, 40, 50, 60, 70, 80, 90, 100, 100, 110],
      color: '#69b3a2',
    },
  ]}
  width={500}
  height={300}
  title="Default Histogram"
/>
);

export default DefaultHistogram;
`}
/>

### Multiple Series Histogram

This example demonstrates a histogram with multiple data series and the ability to toggle datasets by clicking their labels.

<Canvas of={HistogramStories.MultipleSeriesHistogram} meta={HistogramStories} />

<Source
  language="jsx"
  code={`
import React from 'react';
import Histogram from './Histogram';

const MultipleSeriesHistogram = () => (

<Histogram
  dataSeries={[
    {
      seriesLabel: 'Dataset 1',
      data: [5, 15, 25, 35, 45, 55, 65, 75, 85, 95, 105, 115, 125],
      color: '#69b3a2',
    },
    {
      seriesLabel: 'Dataset 2',
      data: [10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120, 130],
      color: '#ff6347',
    },
  ]}
  width={600}
  height={400}
  bins={10}
  title="Multiple Series Histogram"
/>
);

export default MultipleSeriesHistogram;
`}
/>

### Mirrored Histogram

This example shows a mirrored histogram to compare distributions symmetrically.

<Canvas of={HistogramStories.MirroredHistogram} meta={HistogramStories} />

<Source
  language="jsx"
  code={`
import React from 'react';
import Histogram from './Histogram';

const MirroredHistogram = () => (

<Histogram
  dataSeries={[
    {
      seriesLabel: 'Group A',
      data: [5, 15, 25, 35, 45, 55, 65, 75, 85, 95, 105, 115, 125],
      color: '#69b3a2',
    },
    {
      seriesLabel: 'Group B',
      data: [10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120, 130],
      color: '#ff6347',
    },
  ]}
  width={600}
  height={400}
  bins={10}
  mirrored={true}
  title="Mirrored Histogram"
/>
);

export default MirroredHistogram;
`}
/>

### Overlapping Histogram

This example shows an overlapping histogram with two data series to compare distributions.

<Canvas of={HistogramStories.OverlappingHistogram} meta={HistogramStories} />

<Source
  language="jsx"
  code={`
import React from 'react';
import Histogram from './Histogram';

const OverlappingHistogram = () => (

<Histogram
  dataSeries={[
    {
      seriesLabel: 'Variable 1',
      data: Array.from({ length: 1000 }, () => Math.random() * 2 - 1),
      color: '#69b3a2',
    },
    {
      seriesLabel: 'Variable 2',
      data: Array.from({ length: 1000 }, () => Math.random() * 2 + 3),
      color: '#404080',
    },
  ]}
  width={800}
  height={400}
  bins={30}
  title="Overlapping Histogram"
/>
);

export default OverlappingHistogram;
`}
/>

### Content

The `Histogram` component uses SVG to render bars representing data distribution, with the number of bars determined by the `bins` prop.

### Accessibility

**ARIA Roles**: The component should include appropriate ARIA roles and labels to describe its purpose and content for screen readers.

**Keyboard Navigation**: Ensure keyboard focus can be moved to the chart to enhance accessibility.

### Interactions

**Hover Effects**: Tooltips display detailed information about each bin when hovering over the bars.

**Dataset Toggle**: Click on the labels in the legend to show or hide corresponding datasets.

### Changelog

1.0 â€” Initial release of the component
