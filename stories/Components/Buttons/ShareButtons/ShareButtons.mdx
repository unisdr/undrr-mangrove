import { Meta, Story, Canvas } from '@storybook/blocks';
//import { Meta, ArgTypes, Controls, Story, Canvas } from '@storybook/blocks';
import ShareButtons from './ShareButtons';
import * as ShareButtonsStories from './ShareButtons.stories';

export const getCaptionForLocale = locale => {
  switch (locale) {
    case 'english':
      const engText = {
        mainLabel: 'Share this',
        onCopy: 'Copied',
      };
      return engText;
    case 'arabic':
      const arabicText = {
        mainLabel: 'شارك هذا',
        onCopy: 'تم النسخ',
      };
      return arabicText;
    case 'burmese':
      const burmeseText = {
        mainLabel: 'မြန်မာ',
        onCopy: 'ကူးယူသည်။',
      };
      return burmeseText;
    case 'japanese':
      const japaneseText = {
        mainLabel: 'ビルマ語',
        onCopy: 'コピーされました',
      };
      return japaneseText;
    default:
      return {
        mainLabel: 'Share this',
        onCopy: 'Copied',
      };
  }
};

<Meta of={ShareButtonsStories} />

# ShareButtons

A Widget with share buttons for social media

### Overview

This widget contains share buttons for social media that are clickable and each one of them opens a new tab with the link to the social media page.
Also, there is an option to just copy the link to the clipboard, and generate a QR code for easy sharing.

### Formatting

#### default

default format is a list of share buttons for social media.
default text body is: "Check out this link: " + automatically appending the link at the end
default subject is: "Sharing Link"

#### Custom

1. Format of the body of the message before the link
2. Subject of the Message(only for Email)

### Shortlink is favored

The component will favor using a shortlink if a `<link rel="shortlink" href="{url here}" />` is present in the document. If no shortlink is available, it will default to using the full page URL.

## Behaviors

The default Behaviors are:

1. Clicking on the button opens a new tab with the link to the social media page.
   - LinkedIn
   - Facebook
   - Twitter
   - Email
   - QR Code (opens a modal with the QR code image)
2. Clicking on the copy button copies the link to the clipboard.
3. Clicking on the QR code button opens a modal displaying:
   - The QR code image
   - The URL with UTM tracking parameters
   - Guidance text explaining how to use the QR code
   - Options to copy the image or close the modal

<Canvas of={ShareButtonsStories.DefaultShareButtons} meta={ShareButtonsStories} />

### Usage

Drop in and configure. custom message if needed

### Interactions

- The hover state is applied for each button when the mouse hovers over it.

### Changelog

- 1.2
  - Add QR code sharing functionality
  - QR code modal with responsive design
  - UTM tracking parameters for QR code links
  - Copy QR code image to clipboard feature
  - Improved accessibility with keyboard navigation
- 1.1
  - Add shortlink support
  - Updates icon order
  - Updates Twitter for X icon
  - Add support for device webshare
  - Tidy visual apperance
- 1.0 — Released component
