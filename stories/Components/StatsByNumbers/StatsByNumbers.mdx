import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import { StatsByNumbers } from './StatsByNumbers';
import * as StatsByNumbersStories from './StatsByNumbers.stories';

<Meta of={StatsByNumbersStories} />

# Stats by numbers

A flexible component for displaying statistics and key metrics in an engaging, scannable format.

## Overview

The Stats By Numbers component highlights important statistics, metrics, or "by the numbers" information. It supports 1-3 statistics in a responsive grid layout with optional icons, dual labels, descriptions, and clickable cards.

### Key features

- **Flexible layout**: Grid (individual cards) or card (grouped container)
- **Clickable cards**: Make entire stat cards clickable with the `link` prop
- **Dual labels**: Support for both top and bottom labels
- **Icon support**: Optional icons to add visual interest
- **Multiple variants**: Default, compact, and highlighted styles
- **Responsive**: Mobile-first design
- **Accessible**: Semantic HTML with proper ARIA attributes
- **RTL support**: Full right-to-left language support

## Default

<Canvas of={StatsByNumbersStories.Default} />

The default story shows three statistics with dual labels (top and bottom).

## With icons

<Canvas of={StatsByNumbersStories.WithIcons} />

Icons add visual interest and help users quickly identify stat categories.

## Variants

### Compact

<Canvas of={StatsByNumbersStories.Compact} />

Use the compact variant when space is limited.

### Highlighted

<Canvas of={StatsByNumbersStories.Highlighted} />

The highlighted variant emphasizes stats with a colored border accent.

## Card layout

<Canvas of={StatsByNumbersStories.CardLayout} />

All statistics appear within a single card container. Use this when you want to group related stats visually.

## Linked stats

<Canvas of={StatsByNumbersStories.Linked} />

Make entire stat cards clickable by adding a `link` prop. The cursor changes to a pointer on hover to indicate interactivity.

## Component props

### StatsByNumbers

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `title` | string | - | Optional heading for the stats section |
| `buttonLabel` | string | - | Label for the call-to-action link |
| `buttonUrl` | string | - | URL for the call-to-action link |
| `stats` | array | `[]` | Array of stat objects (see below) |
| `variant` | string | `'default'` | Visual variant: `'default'`, `'compact'`, or `'highlighted'` |
| `layout` | string | `'grid'` | Layout mode: `'grid'` or `'card'` |
| `className` | string | - | Additional CSS class names |

### Stat object

| Prop | Type | Required | Description |
|------|------|----------|-------------|
| `value` | string/number | Yes | The main statistic value (e.g., "1,500+", "45%") |
| `bottomLabel` | string | Yes | Label that appears below the value |
| `topLabel` | string | No | Optional label above the value |
| `icon` | string | No | Optional icon class (e.g., "mg-icon fa-globe") |
| `description` | string | No | Optional descriptive text |
| `descriptionLink` | object | No | Optional link with `text` and `url` properties |
| `link` | string | No | URL to make the entire stat card clickable |

## Usage

```jsx
<StatsByNumbers
  title="Sendai Framework Progress"
  stats={[
    {
      topLabel: "Target A",
      value: "45%",
      bottomLabel: "Mortality reduction",
      description: "Decrease in disaster mortality rates.",
    },
    {
      topLabel: "Target B",
      value: "2.3M",
      bottomLabel: "People affected",
      description: "Reduction in affected people per 100,000.",
    },
  ]}
/>
```

### Linked stats

```jsx
<StatsByNumbers
  stats={[
    {
      value: "1,500+",
      bottomLabel: "Cities enrolled",
      description: "Click to view all cities.",
      link: "https://mcr2030.undrr.org/cities",
    },
  ]}
/>
```

## Accessibility

- Semantic HTML with `<section>`, `<article>`, and `<data>` elements
- Proper `aria-label` on the section
- Icons marked with `aria-hidden="true"`
- Focus-visible styles for keyboard navigation
- Respects `prefers-reduced-motion`

## Changelog

1.0 â€” Initial component release
