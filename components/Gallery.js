/*!
 * This is a UNDRR Mangrove component: https://github.com/unisdr/undrr-mangrove?tab=readme-ov-file
 * Compiled on: 2026-02-13T09:56:13.197Z
 */
/*! For license information please see Gallery.js.LICENSE.txt */
import{default as e,useCallback as r,useEffect as l,useRef as t,useState as a}from"react";var n={2694(e,r,l){var t=l(6925);function a(){}function n(){}n.resetWarningCache=a,e.exports=function(){function e(e,r,l,a,n,i){if(i!==t){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function r(){return e}e.isRequired=e;var l={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:a};return l.PropTypes=l,l}},5556(e,r,l){e.exports=l(2694)()},6925(e){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9698(e,r){var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(e,r,t){var a=null;if(void 0!==t&&(a=""+t),void 0!==r.key&&(a=""+r.key),"key"in r)for(var n in t={},r)"key"!==n&&(t[n]=r[n]);else t=r;return r=t.ref,{$$typeof:l,type:e,key:a,ref:void 0!==r?r:null,props:t}}r.Fragment=t,r.jsx=a,r.jsxs=a},4848(e,r,l){e.exports=l(9698)}},i={};function o(e){var r=i[e];if(void 0!==r)return r.exports;var l=i[e]={exports:{}};return n[e](l,l.exports,o),l.exports}o.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},o.d=(e,r)=>{for(var l in r)o.o(r,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:r[l]})},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var s=o(5556),c=o.n(s),m=o(4848);const d=(...e)=>e.filter(Boolean).length>0?e.filter(Boolean).join(" "):null;function g({media:e,initialIndex:n=0,showThumbnails:i=!0,thumbnailPosition:o="left",showArrows:s=!0,arrowStyle:c="overlay",showDescription:g=!0,enableKeyboard:u=!0,loop:p=!1,onMediaChange:y}){const[b,h]=a(n),[_,v]=a(!1),f=t(null),x=t(null),j=t(null),w=t([]),N=t(null),k=t(null),T=e[b];l(()=>{"video"===T.type||"embed"===T.type?v(!0):v(!1)},[b,T.type]);const O=r(r=>{h(r),y&&y(r,e[r]),w.current[r]&&w.current[r].scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[e,y]),S=r(()=>{b<e.length-1?O(b+1):p&&O(0)},[b,e.length,O,p]),C=r(()=>{b>0?O(b-1):p&&O(e.length-1)},[b,O,p,e.length]),P=r(r=>{if(u)switch(r.key){case"ArrowLeft":r.preventDefault(),C();break;case"ArrowRight":r.preventDefault(),S();break;case"Home":r.preventDefault(),O(0);break;case"End":r.preventDefault(),O(e.length-1)}},[u,S,C,O,e.length]),D=d("mg-gallery","bottom"===o&&"mg-gallery--thumbnails-bottom");return(0,m.jsxs)("div",{ref:f,className:D,role:"region","aria-label":"Gallery",tabIndex:u?0:void 0,onKeyDown:P,children:[(0,m.jsxs)("div",{className:"mg-gallery__main",role:"group",children:[(0,m.jsxs)("div",{className:"mg-gallery__image-wrapper",onTouchStart:e=>{N.current=e.touches[0].clientX,k.current=null},onTouchMove:e=>{k.current=e.touches[0].clientX},onTouchEnd:()=>{if(!N.current||!k.current)return;const e=N.current-k.current;Math.abs(e)>50&&(e>0?S():C()),N.current=null,k.current=null},children:[(!T.type||"image"===T.type)&&(0,m.jsx)("img",{ref:x,src:T.src,alt:T.alt,className:"mg-gallery__image","aria-describedby":g&&T.description?"gallery-description":void 0}),"video"===T.type&&(0,m.jsxs)("video",{ref:x,src:T.src,className:"mg-gallery__image mg-gallery__video",controls:!0,poster:T.poster,onLoadedData:()=>v(!1),onLoadStart:()=>v(!0),"aria-describedby":g&&T.description?"gallery-description":void 0,children:[(0,m.jsx)("track",{kind:"captions"}),"Your browser does not support the video tag."]}),"embed"===T.type&&(0,m.jsx)("iframe",{ref:x,src:T.embedUrl||T.src,className:"mg-gallery__image mg-gallery__embed",title:T.title||T.alt,allowFullScreen:!0,onLoad:()=>v(!1),"aria-describedby":g&&T.description?"gallery-description":void 0}),"html"===T.type&&(0,m.jsx)("div",{ref:x,className:"mg-gallery__image mg-gallery__html",dangerouslySetInnerHTML:{__html:T.html},"aria-describedby":g&&T.description?"gallery-description":void 0}),_&&(0,m.jsx)("div",{className:"mg-gallery__loading","aria-live":"polite","aria-label":"Loading media",children:(0,m.jsx)("div",{className:"mg-gallery__spinner"})})]}),s&&"overlay"===c&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("button",{className:"mg-gallery__arrow mg-gallery__arrow--prev",onClick:C,disabled:!p&&0===b,"aria-label":"Previous item",type:"button",children:"‹"}),(0,m.jsx)("button",{className:"mg-gallery__arrow mg-gallery__arrow--next",onClick:S,disabled:!p&&b===e.length-1,"aria-label":"Next item",type:"button",children:"›"})]}),s&&"corner"===c&&(0,m.jsxs)("div",{className:"mg-gallery__arrow-controls",children:[(0,m.jsx)("button",{className:"mg-gallery__arrow-button mg-gallery__arrow-button--prev",onClick:C,disabled:!p&&0===b,"aria-label":"Previous item",type:"button",children:"‹"}),(0,m.jsx)("button",{className:"mg-gallery__arrow-button mg-gallery__arrow-button--next",onClick:S,disabled:!p&&b===e.length-1,"aria-label":"Next item",type:"button",children:"›"})]})]}),g&&(T.title||T.description)&&(0,m.jsxs)("div",{className:"mg-gallery__description",id:"gallery-description",children:[T.title&&(0,m.jsx)("div",{className:"mg-gallery__title",children:T.title}),T.description&&(0,m.jsx)("p",{className:"mg-gallery__caption",children:T.description})]}),i&&(0,m.jsx)("div",{ref:j,className:"mg-gallery__thumbnails",role:"tablist","aria-label":"Gallery thumbnails",children:e.map((e,r)=>(0,m.jsxs)("button",{ref:e=>w.current[r]=e,className:d("mg-gallery__thumbnail",r===b&&"mg-gallery__thumbnail--active","html"===e.type&&!e.thumbnail&&"mg-gallery__thumbnail--html"),onClick:()=>O(r),role:"tab","aria-selected":r===b,"aria-current":r===b?"true":void 0,"aria-label":`View ${e.title||e.alt||"content"}`,type:"button",children:["html"===e.type&&!e.thumbnail&&e.html?(0,m.jsx)("div",{className:"mg-gallery__thumbnail-html-preview","aria-hidden":"true",children:(0,m.jsx)("div",{className:"mg-gallery__thumbnail-html-content",dangerouslySetInnerHTML:{__html:e.html}})}):e.thumbnail||e.src?(0,m.jsx)("img",{src:e.thumbnail||e.src,alt:"",loading:"lazy"}):(0,m.jsx)("span",{className:"mg-gallery__thumbnail-placeholder","aria-hidden":"true",children:"◫"}),("video"===e.type||"embed"===e.type)&&(0,m.jsx)("span",{className:"mg-gallery__thumbnail-indicator","aria-hidden":"true",children:"▶"})]},e.id))})]})}g.propTypes={media:c().arrayOf(c().shape({id:c().string.isRequired,type:c().oneOf(["image","video","embed","html"]),src:c().string,alt:c().string,title:c().string,description:c().string,thumbnail:c().string,poster:c().string,embedUrl:c().string,html:c().string})).isRequired,initialIndex:c().number,showThumbnails:c().bool,thumbnailPosition:c().oneOf(["left","bottom"]),showArrows:c().bool,arrowStyle:c().oneOf(["overlay","corner"]),showDescription:c().bool,enableKeyboard:c().bool,loop:c().bool,onMediaChange:c().func};const u=e.memo(g);export{u as Gallery};